---
title: "How do you even lose data when using git?"
created_at: 2014-03-11 02:09:00 -0400
kind: article
tags: mathNEWS
---

_I originally wrote this article for Volume 124, Issue 5 of mathNEWS._

It's 18:00 on a Saturday night, and you see your friend Joseph force push to
your git repo for compilers. Six minutes later, a commit is added to that repo:
"Joseph is an idiot." What on earth happened, and how can you prevent this
catastrophe from afflicting your group?

Root cause analysis determined the cause of this particular disaster to be
"Untracked files". How? <code>git status</code> lists files that haven't been
committed to the repository under the heading "Untracked files". However, if
having "Untracked files" is the normal state for your repository, then you'll
have to manually sift through the output of <code>git status</code> to realize
you forget to commit a file you actually want to keep around for later. The
chances of you doing that for each commit you make the night before the
deadline? Nil. So you'll lose the files once you <code>git checkout</code>
another branch... and once you realize, it's too late, and you'll have to
recreate the files from memory. The loss of precious minutes when you least
have them to spare!

How can you protect you code and your loved ones from this disaster? It's easy!
You simply need to make judicious use of <code>.gitignore</code>. Create a file
named <code>.gitignore</code> in your repository and commit it; each line that
doesn't start with a <code>#</code> contains a pattern matching files that git
shouldn't track or add to the repository. Chances are, you won't even have to
write the file yourself -- you can probably concatenate together the files for
your two or three favourite programming languages and editors (say,
Go.gitignore, Erlang.gitignore, and Global/Kate.gitignore) from the collection
at https://github.com/github/gitignore.

"But I use LaTeX," you might protest, "and I also need to commit
<code>.log</code> files generated by my code!" I do agree, that
[<code>TeX.gitignore</code>](https://github.com/github/gitignore/blob/master/TeX.gitignore)
contains some rather sweeping patterns, such as <code>*.log</code> and
<code>*.out</code>. There's a simple pattern to handle this too: I create a
directory named <code>latex</code> or <code>report</code> in the top of my
repository, place my <code>.tex</code> files in it, as well as a copy of
<code>TeX.gitignore</code> named <code>.gitignore</code>. Since the rules in
<code>latex/.gitignore</code> only affect files stored under
<code>latex/</code>, you're free to add <code>.log</code> and <code>.out</code>
files anywhere else in the tree.

In fact, I've got a bit of a pattern going now with how I start my assignments:
<ul>
	<li>se465 (folder so I can tell each "a1" repo apart)
<ul>
	<li>a1 (this is a git repo)
<ul>
	<li>.gitignore</li>
	<li>latex
<ul>
	<li>.gitignore</li>
	<li>Makefile</li>
	<li>a1_sub.tex</li>
</ul>
</li>
	<li>q1
<ul>
	<li>q1.java</li>
</ul>
</li>
	<li>...</li>
</ul>
</li>
</ul>
</li>
</ul>
Now if only I had figured this out in first year. But now that I have, you
don't have to!

Just take a little bit of time when you start your next CS assignment, and make
sure git tells you about only the Untracked files you care about!

!able

